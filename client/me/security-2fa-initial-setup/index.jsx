import { CompactCard } from '@automattic/components';
import { useTranslate } from 'i18n-calypso';
import { useCallback } from 'react';
import VerticalNavItemEnhanced from 'calypso/components/vertical-nav/item/enhanced';
import { gaRecordEvent } from 'calypso/lib/analytics/ga';
import { APP_BASED_2FA_SETUP, SMS_BASED_2FA_SETUP } from 'calypso/me/security-2fa-setup';

import './style.scss';

const Security2faInitialSetup = ( { onSuccess } ) => {
	const translate = useTranslate();

	const handleClick = useCallback(
		( event, authMethod ) => {
			gaRecordEvent( 'Me', 'Clicked On 2fa Get Started Button' );
			onSuccess( event, authMethod );
		},
		[ onSuccess ]
	);

	return (
		<>
			<CompactCard>
				{ translate(
					'Two-Step Authentication adds an extra layer ' +
						'of security to your account. Once enabled, logging in to ' +
						'WordPress.com will require you to enter a unique passcode ' +
						'generated by an app on your mobile device or sent via text ' +
						'message, in addition to your username and password.'
				) }
			</CompactCard>

			<VerticalNavItemEnhanced
				className="security-initial-setup-nav-item"
				gridicon="phone"
				onClick={ ( event ) => handleClick( event, APP_BASED_2FA_SETUP ) }
				text={ translate( 'Set up using an app' ) }
				description={ translate(
					'Use an application on your phone to get two-step authentication codes when you login.'
				) }
			/>

			<VerticalNavItemEnhanced
				className="security-initial-setup-nav-item"
				gridicon="comment"
				onClick={ ( event ) => handleClick( event, SMS_BASED_2FA_SETUP ) }
				text={ translate( 'Set up using SMS' ) }
				description={ translate(
					'WordPress.com will send you an SMS with a two-step authentication code when you log in.'
				) }
			/>
		</>
	);
};

export default Security2faInitialSetup;
